(()=>{var e={912:(e,r,a)=>{var s=a(252),n=s();n.use(s.json());var t=[{name:"Mie Ayam",price:12e3},{name:"Bakso",price:15e3},{name:"Ayam Goreng",price:2e4},{name:"Ayam Bakar",price:2e4},{name:"Nasi Goreng",price:15e3},{name:"Mie Goreng",price:12e3},{name:"Mie Rebus",price:12e3},{name:"Es Teh",price:6e3},{name:"Es Jeruk",price:6e3},{name:"Es Buah",price:1e4},{name:"Teh Anget",price:5e3},{name:"Jeruk Anget",price:5e3},{name:"Es Soda Sedih",price:1e4}];n.post("/items",(function(e,r){var a=e.body,s=a.name,n=a.price;s&&n||r.status(400).json({message:"Please enter a name and price."}),t.push({name:s,price:n}),r.status(200).json({message:"Items successfully added",data:t})})),n.get("/",(function(e,r){r.status(200).json({Judul:"LIST MAKANAN KAMI: ",menu:t})})),n.post("/checkout",(function(e,r){var a=e.body,s=a.selectedItems,n=void 0===s?[]:s,o=a.isMember,i=a.payment;if(null==o||null==i)return r.status(400).json({error:"Invalid request body. Please provide valid selectedItems as array, isMember, and payment."});if(!Array.isArray(n))return r.status(400).json({error:"Invalid request body. Please provide valid selectedItems as array, isMember, and payment."});var u=function(e){var r=0;return e.forEach((function(e){var a=t.find((function(r){return r.name.toLowerCase()===e.toLowerCase()}));a&&(r+=a.price)})),r}(n),c=0;o&&(c=.1*u),u>=1e5&&(c=.3*u);var p=u-c,m=i-p;return r.json({totalBelanja:u,totalDiskon:c,totalSetelahDiskon:p,payment:i,kembalian:m})})),e.exports=n},252:e=>{"use strict";e.exports=require("express")},67:e=>{"use strict";e.exports=require("node:http")}},r={};function a(s){var n=r[s];if(void 0!==n)return n.exports;var t=r[s]={exports:{}};return e[s](t,t.exports,a),t.exports}var s=a(252),n=a(67),t=a(912),o=s();o.use(s.json()),o.use(s.urlencoded({extended:!1})),o.use("/api",t),n.createServer(o).listen(3e3,"localhost",(function(){console.log("Server listening in: http://localhost:3000")}))})();